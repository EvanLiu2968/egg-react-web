exports.ids=[2],exports.modules={144:function(e,t,a){"use strict";a(0),a(0)},157:function(e,t,a){"use strict";a(0),a(0)},158:function(e,t,a){"use strict";a(0),a(0),a(144),a(157),a(159),a(60),a(59),a(160)},159:function(e,t,a){"use strict";a(0),a(0)},160:function(e,t,a){"use strict";a(0),a(0),a(161)},161:function(e,t,a){"use strict";a(0),a(0),a(144)},246:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u=p(a(234)),l=p(a(145)),n=p(a(16)),i=p(a(235)),s=p(a(24)),d=p(a(7)),o=p(a(25)),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();a(248),a(158),a(17),a(157),a(6),a(8),a(26);var _=p(a(1)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(249));function p(e){return e&&e.__esModule?e:{default:e}}a(0);var h=o.default.create()(r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleOk=function(){return e.__handleOk__REACT_HOT_LOADER__.apply(e,arguments)},e.state={query:{page:1,size:10,status:0,keyword:""},tableData:{records:[]},formData:{},formType:"edit",formVisible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,_.default.Component),c(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.state.query;m.getUsers(t).then(function(t){e.setState({tableData:t.data})})}},{key:"onPagerChange",value:function(){}},{key:"toggleStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.state.query;t.status=e,this.setState({query:t}),this.fetchData()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.state.query;t.keyword=e,this.setState({query:t}),this.fetchData()}},{key:"editRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";this.setState({formData:f({},e),formType:t,formVisible:!0});var a=this.props.form;Object.keys(a.getFieldsValue()).forEach(function(e){var t={};t[e]=formData[e]||null,a.setFieldsValue(t)})}},{key:"deleteRecord",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.deleteUser(t.id).then(function(t){d.default.success("操作成功"),e.fetchData()})}},{key:"__handleOk__REACT_HOT_LOADER__",value:function(){return this.__handleOk__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__handleOk__REACT_HOT_LOADER__",value:function(){return this.__handleOk__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__handleOk__REACT_HOT_LOADER__",value:function(){return this.__handleOk__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__handleOk__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props.form;t.validateFields(function(a){if(!a){var r=t.getFieldsValue();"add"==e.state.formType?m.createUser(r).then(function(t){d.default.success("提交成功"),e.fetchData(),e.setState({formVisible:!1})}):m.updateUser(e.state.formData.id,r).then(function(t){d.default.success("提交成功"),e.fetchData(),e.setState({formVisible:!1})})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tableData,r=t.query,d=t.formData,f=this.props.form.getFieldDecorator;return _.default.createElement("div",null,_.default.createElement("div",{className:"table-tool"},_.default.createElement("div",{className:"pull-right"},_.default.createElement(s.default,{type:"primary",onClick:function(){return e.editRecord({},"add")}},"新建")),_.default.createElement("div",null,_.default.createElement(i.default.Group,{style:{marginRight:"10px"},onChange:function(t){e.toggleStatus(t.target.value)},defaultValue:r.status},_.default.createElement(i.default.Button,{value:0},"已启用"),_.default.createElement(i.default.Button,{value:1},"已冻结")),_.default.createElement(n.default.Search,{placeholder:"请输入关键字",onSearch:function(t){return e.onSearch(t)},style:{width:200}}))),_.default.createElement(l.default,{dataSource:a.records,rowKey:"id",onPagerChange:this.onPagerChange},_.default.createElement(l.default.Column,{title:"用户名",dataIndex:"name",key:"id"}),_.default.createElement(l.default.Column,{title:"手机号码",dataIndex:"phone",key:"phone"}),_.default.createElement(l.default.Column,{title:"电子邮箱",dataIndex:"email",key:"email"}),_.default.createElement(l.default.Column,{title:"用户组",dataIndex:"group_id",key:"group_id"}),_.default.createElement(l.default.Column,{title:"最近修改人",dataIndex:"update_id",key:"update_id"}),_.default.createElement(l.default.Column,{title:"最近修改时间",dataIndex:"update_time",key:"update_time"}),_.default.createElement(l.default.Column,{title:"操作",dataIndex:"id",key:"id",render:function(t,a,r){return"admin"==a.phone?null:_.default.createElement(s.default.Group,null,_.default.createElement(s.default,{onClick:function(){e.editRecord(a)}},"编辑"),_.default.createElement(s.default,{type:"danger",onClick:function(){e.deleteRecord(a)}},"删除"))}})),_.default.createElement(u.default,{title:("add"==this.state.formType?"新增":"编辑")+"用户信息",visible:this.state.formVisible,onOk:this.handleOk,onCancel:function(){return e.setState({formVisible:!1})}},_.default.createElement(o.default,{layout:"vertical"},_.default.createElement(o.default.Item,{label:"邮箱"},f("email",{initialValue:d.email,rules:[{required:!0,message:"请填写邮箱"}]})(_.default.createElement(n.default,null))),_.default.createElement(o.default.Item,{label:"手机号码"},f("phone",{initialValue:d.phone,rules:[{required:!0,message:"请填写手机号码"}]})(_.default.createElement(n.default,null))),_.default.createElement(o.default.Item,{label:"昵称"},f("name",{initialValue:d.name,rules:[{required:!0,message:"请填写昵称"}]})(_.default.createElement(n.default,null))),_.default.createElement(o.default.Item,{label:"性别"},f("sexy",{initialValue:d.sexy,rules:[{required:!0,message:"请选择性别"}]})(_.default.createElement(i.default.Group,null,_.default.createElement(i.default,{value:"male"},"男"),_.default.createElement(i.default,{value:"female"},"女")))),_.default.createElement(o.default.Item,{label:"用户组"},f("groupId",{initialValue:d.groupId,rules:[{required:!0,message:"请选择用户组"}]})(_.default.createElement(i.default.Group,null,_.default.createElement(i.default,{value:1,disabled:!0},"管理员"),_.default.createElement(i.default,{value:2},"普通用户")))),_.default.createElement(o.default.Item,{label:"个人简介"},f("note",{initialValue:d.note,rules:[{required:!0,message:"请填写昵称"}]})(_.default.createElement(n.default.TextArea,{placeholder:"这个人很懒，什么也没有说明。",rows:4}))))))}}]),t}())||r;t.default=h;"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(h,"User","D:/github/egg-react-web/src/page/admin/src/pages/system/user/index.js")},248:function(e,t,a){"use strict";a(0),a(0),a(6)},249:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroup=n,t.getGroups=i,t.createUser=s,t.getUsers=d,t.getUserById=o,t.deleteUser=f,t.updateUser=c;var r,u=a(162),l=(r=u)&&r.__esModule?r:{default:r};function n(e){return(0,l.default)({url:"/v1/group/createGroup",method:"post",data:e})}function i(e){return(0,l.default)({url:"/v1/group/getGroups",method:"get",params:e})}function s(e){return(0,l.default)({url:"/v1/user/createUser",method:"post",data:e})}function d(e){return(0,l.default)({url:"/v1/user/getUsers",method:"get",params:e})}function o(e){return(0,l.default)({url:"/v1/user/getUserById/"+e,method:"get"})}function f(e){return(0,l.default)({url:"/v1/user/deleteUser/"+e,method:"delete"})}function c(e,t){return(0,l.default)({url:"/v1/user/updateUser/"+e,method:"put",data:t})}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"createGroup","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(i,"getGroups","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(s,"createUser","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(d,"getUsers","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(o,"getUserById","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(f,"deleteUser","D:/github/egg-react-web/src/api/user.js"),__REACT_HOT_LOADER__.register(c,"updateUser","D:/github/egg-react-web/src/api/user.js"))}};